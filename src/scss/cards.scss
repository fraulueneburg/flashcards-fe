.flashcard {
	background-color: transparent;
	height: 12lh;
	margin-bottom: var(--pico-spacing);
	padding: 0;
	position: relative;

	&:has(dialog[open]) {
		z-index: 20;
	}

	.front,
	.back {
		background: var(--pico-card-background-color) url(../../public/img/bg/dot-grid.webp) repeat top center;
		background-blend-mode: multiply;
		border: 2px solid var(--pico-form-element-border-color);
		border-radius: var(--pico-border-radius);
		backface-visibility: hidden;
		display: grid;
		grid-template-rows: 1fr auto;
		height: 100%;
		position: absolute;
		text-align: center;
		top: 0;
		width: 100%;

		@media (prefers-reduced-motion: no-preference) {
			transform-style: preserve-3d;
			transition: transform 0.6s;
		}

		> footer {
			display: flex;
			gap: 0.75rem;
			height: min-content;
			margin: 0.25rem auto 0.75rem;
			width: max-content;
		}
	}
	.front {
		transform: rotateY(0deg);
	}
	.back {
		transform: rotateY(180deg);
	}
	&.flipped {
		> .front {
			transform: rotateY(180deg);
		}
		> .back {
			transform: rotateY(0deg);
		}
	}

	.content {
		align-content: center;
		display: grid;
		min-height: 100%;
		overflow-y: scroll;
		padding: 1rem 1rem 0;

		> *:last-child {
			margin-bottom: 0;
		}
	}

	aside {
		display: grid;
		gap: 0.25rem;
		position: absolute;
		height: 2rem;
		top: 0.5rem;
		right: 0.5rem;
		z-index: 10;

		> button:first-child {
			&:not(:focus, :focus-visible, :focus-within) {
				background-color: transparent;
				border-color: transparent;
			}
		}

		[aria-expanded='true'] + nav {
			display: block;
		}

		nav {
			display: none;

			> ul {
				display: grid;
				margin: 0;
				gap: 0.25rem;

				> li {
					padding: 0;
				}
			}
		}

		// show only for screen readers on tab focus
		.btn-flip {
			bottom: -9.6lh;
			position: absolute;

			&:not(:focus, :focus-visible, :focus-within) {
				border: 0;
				clip: rect(0, 0, 0, 0);
				position: absolute;
				height: 1px;
				margin: -1px;
				overflow: hidden;
				padding: 0;
				width: 1px;
			}
		}
	}

	// markdown elements

	@for $i from 1 through 6 {
		h#{$i} {
			@for $j from 1 through 6 {
				&:has(+ h#{$j}) {
					margin-bottom: 0;
				}
			}
		}
	}
}

ul.list-cards {
	display: grid;
	grid-template-columns: repeat(1, 1fr);
	gap: 1rem;
	padding: 2rem 0;
	width: auto;

	@media (min-width: 768px) {
		grid-template-columns: repeat(2, 1fr);
	}

	@media (min-width: 1300px) {
		grid-template-columns: repeat(3, 1fr);
	}

	> li {
		list-style: none;
		margin: 0;

		> .flashcard {
			margin: 0;
		}
	}
}
